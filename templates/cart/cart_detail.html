{% extends "base.html" %}

{% block title %}Your Cart{% endblock %}


{% block content %}


<style>
  .cart-wrapper {
    max-width: 900px;
    margin: 40px auto;
    padding: 20px;
  }

  .cart-title {
    margin-bottom: 20px;
  }

  .cart-table {
    width: 100%;
    border-collapse: collapse;
  }

  .cart-table th,
  .cart-table td {
    padding: 12px;
    border-bottom: 1px solid #ddd;
  }

  .cart-table th {
    background: #f5f5f5;
    text-align: left;
  }

  .text-center {
    text-align: center;
  }

  .text-right {
    text-align: right;
  }

  .btn-remove {
    background: #e74c3c;
    color: white;
    padding: 6px 10px;
    text-decoration: none;
    border-radius: 4px;
  }

  .btn-shop {
    display: inline-block;
    padding: 10px 18px;
    background: #222;
    color: white;
    text-decoration: none;
    border-radius: 5px;
  }

  .empty-cart {
    padding: 40px;
    text-align: center;
    background: #fafafa;
    border-radius: 6px;
  }
</style>

<div class="cart-wrapper">

  <h2 class="cart-title">ðŸ›’ Shopping Cart</h2>

  {% if items %}
    <table class="cart-table">
      <thead>
        <tr>
          <th>Product</th>
          <th class="text-center">Quantity</th>
          <th class="text-right">Price</th>
          <th class="text-right">Total</th>
          <th class="text-center">Action</th>
        </tr>
      </thead>
      <tbody>

      {% for item in items %}
        <tr>
          <td>{{ item.product.name }}</td>
          <td class="text-center">{{ item.quantity }}</td>
          <td class="text-right">GHâ‚µ {{ item.product.price }}</td>
          <td class="text-right">GHâ‚µ {{ item.get_total_price }}</td>
          <td class="text-center">
              {% if item.product %}
                <a href="{% url 'cart:remove_from_cart' item.product.id %}">
                  Remove
                </a>
              {% endif %}
          </td>
        </tr>
      {% endfor %}

      </tbody>
    </table>

    <div style="margin-top:30px;text-align:right;">
      <a href="{% url 'products:product_list' %}" class="btn-shop">
        Continue Shopping
      </a>
    </div>

  {% else %}
    <div class="empty-cart">
      <p>Your cart is empty.</p>
      <a href="{% url 'products:product_list' %}" class="btn-shop">
        Shop Now
      </a>
    </div>
  {% endif %}

</div>
{% endblock %}
