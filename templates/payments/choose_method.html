{% extends "base.html" %}
{% block content %}

<h2>Pay for Order #{{ order.id }}</h2>
<p>Total: ${{ order.total_price }}</p>

<form method="POST">
  {% csrf_token %}

  <label>
    <input type="radio" name="payment_method" value="momo" required>
    Mobile Money
  </label><br>

  <label>
    <input type="radio" name="payment_method" value="card">
    Card (Visa / MasterCard)
  </label><br>

  <label>
    <input type="radio" name="payment_method" value="bank">
    Bank Transfer
  </label><br><br>

  <div id="momo-fields" style="display:none;">
    <input type="text" name="phone_number" placeholder="Mobile Money Number">
  </div>

  <button type="submit">Continue</button>
</form>

<script>
const radios = document.querySelectorAll('input[name="payment_method"]');
const momoFields = document.getElementById('momo-fields');

radios.forEach(radio => {
  radio.addEventListener('change', () => {
    momoFields.style.display = radio.value === 'momo' ? 'block' : 'none';
  });
});
</script>

{% endblock %}
